@using SharedLibrary.DataTransferObjects
@using RazorLibrary.Shared.LearningModulesInputs
@inherits CreateLearningModule<SharedLibrary.DataTransferObjects.DefinitionDto>

<CreationOnDemand OnShown="EnableModuleCreation" ComponentName="Definition">
	<DefinitionInput Current="FirstEntity" Term="Term"></DefinitionInput>
</CreationOnDemand>

@code {
	protected override string SaveChangesApiPath => "Definitions";
	protected override DefinitionDto CreateNewDto()
	{
		return new DefinitionDto(0, 0, string.Empty);
    }

    public override Task<bool> SaveChanges(int termId)
    {
        if (string.IsNullOrEmpty(FirstEntity.Value))
        {
            DisableModuleCreation();
        }

        return base.SaveChanges(termId);
    }
}
